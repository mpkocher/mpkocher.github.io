<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">



<title>
  
    Archive: 2022/6
  
</title>

<meta property="og:type" content="website">
<meta property="og:title">
<meta property="og:url" content="http://mpkocher.github.io/archives/2022/06/index.html">
<meta property="og:site_name">
<meta property="og:locale" content="en_US">
<meta name="twitter:card" content="summary">
<meta name="twitter:creator" content="@https:&#x2F;&#x2F;twitter.com&#x2F;ElevenPhonons">


  <link rel="alternative" href="/atom.xml" title="" type="application/atom+xml">



  <link rel="icon" href="/favicon.png">



<link rel="stylesheet" href="/perfect-scrollbar/css/perfect-scrollbar.min.css">


<link rel="stylesheet" href="/styles/main.css">



  <!-- Google Analytics -->
  <script type="text/javascript">
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-141397134-1', 'auto');
    ga('send', 'pageview');

  </script>
  <!-- End Google Analytics -->





<meta name="generator" content="Hexo 6.2.0"></head>
<body
  
    class="monochrome"
  
  >
  <div class="mobile-header">
  <button class="sidebar-toggle" type="button">
    <span class="icon-bar"></span>
    <span class="icon-bar"></span>
    <span class="icon-bar"></span>
  </button>
  <a class="title" href="/"></a>
</div>

  <div class="main-container">
    <div class="sidebar">
  <div class="header">
    <h1 class="title"><a href="/"></a></h1>
    
    <div class="info">
      <div class="content">
        
        
      </div>
      
        <div class="avatar">
          
            <a href="/2017/09/04/About"><img src="https://avatars3.githubusercontent.com/u/868552?v=4&amp;s=460"></a>
          
        </div>
      
    </div>
  </div>
  <div class="body">
    
      
        <ul class="nav">
          
            
              <li class="tag-list-container">
                <a href="javascript:;">Tag</a>
                <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/FPT/" rel="tag">FPT</a><span class="tag-list-count">5</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/functional/" rel="tag">functional</a><span class="tag-list-count">5</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/lbl/" rel="tag">lbl</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/materials-project/" rel="tag">materials-project</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/mypy/" rel="tag">mypy</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/pacbio/" rel="tag">pacbio</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/python/" rel="tag">python</a><span class="tag-list-count">10</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/scala/" rel="tag">scala</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/scala-cli/" rel="tag">scala-cli</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/series/" rel="tag">series</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/zio/" rel="tag">zio</a><span class="tag-list-count">1</span></li></ul>
              </li>
            
          
            
              <li class="archive-list-container">
                <a href="javascript:;">Archive</a>
                <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/">2022</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/">2019</a><span class="archive-list-count">9</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/">2017</a><span class="archive-list-count">3</span></li></ul>
              </li>
            
          
        </ul>
      
        <ul class="nav">
          
            
              <li>
                <a href="/" title="Homepage" external="false">Homepage</a>
              </li>
            
          
            
              <li>
                <a href="/archives" title="By Year" external="false">By Year</a>
              </li>
            
          
            
              <li>
                <a href="/2019/03/01/Functional-Programming-Techniques-In-Python-Series/" title="Functional Programming Techniques in Python" external="false">Functional Programming Techniques in Python</a>
              </li>
            
          
        </ul>
      
        <ul class="nav">
          
            
              <li>
                <a href="/2017/09/04/About/" title="About" external="false">About</a>
              </li>
            
          
            
              <li>
                <a href="https://github.com/mpkocher/cv/blob/master/academic/cv.pdf" title="CV" target="_blank" rel="noopener">CV</a>
              </li>
            
          
            
              <li>
                <a href="https://github.com/mpkocher" title="Github" target="_blank" rel="noopener">Github</a>
              </li>
            
          
            
              <li>
                <a href="https://gist.github.com/mpkocher" title="Gists" target="_blank" rel="noopener">Gists</a>
              </li>
            
          
            
              <li>
                <a href="https://www.linkedin.com/in/michael-kocher-b4bba5122/" title="LinkedIn" target="_blank" rel="noopener">LinkedIn</a>
              </li>
            
          
            
              <li>
                <a href="https://twitter.com/ElevenPhonons" title="Twitter" target="_blank" rel="noopener">Twitter</a>
              </li>
            
          
            
              <li>
                <a href="/2017/09/04/Now" title="Now" external="false">Now</a>
              </li>
            
          
            
              <li>
                <a href="/atom.xml" title="RSS" external="false">RSS</a>
              </li>
            
          
        </ul>
      
    
  </div>
</div>

    <div class="main-content">
      
        <div style="max-width: 1000px">
      
          

  
  
    
      
      
      <section class="archives-wrap">
        <div class="archive-year-wrap">
          <h1><a href="/archives/2022" class="archive-year">2022</a></h1>
        </div>
        <div class="post-list">
    
  

    <div class="post-list-item article">
      <h3 class="article-header">
        <a href="/2022/06/02/CLI-App-leveraging-ZIO-and-Decline-using-scala-cli/" >
  Creating CLI tools leveraging ZIO and Decline using scala-cli
</a>

      </h3>
      

      <div class="article-info">
        <a href="/2022/06/02/CLI-App-leveraging-ZIO-and-Decline-using-scala-cli/"><span class="article-date">
  2022-06-02
</span>
</a>
        

        
	<span class="article-tag tagcloud">
		<ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/scala/" rel="tag">scala</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/scala-cli/" rel="tag">scala-cli</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/zio/" rel="tag">zio</a></li></ul>
	</span>


      </div>
      <div class="article-entry">
        
          <p>Here’s a quick overview and demonstration of kicking the tires on ZIO 1.x + <a target="_blank" rel="noopener" href="https://github.com/bkirwi/decline">decline</a> (commandline argument parser) using <code>scala-cli</code> (version 0.1.6) to build commandline tools.</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://scala-cli.virtuslab.org/">https://scala-cli.virtuslab.org</a></li>
<li><a target="_blank" rel="noopener" href="https://zio.dev/">https://zio.dev</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/bkirwi/decline">https://github.com/bkirwi/decline</a></li>
<li><a target="_blank" rel="noopener" href="https://gist.github.com/mpkocher/e7b23d082a9ce9cba6e5ec3337658e76">Complete Gist</a></li>
</ul>
<h2 id="High-Level-Points"><a href="#High-Level-Points" class="headerlink" title="High Level Points"></a>High Level Points</h2><ul>
<li><code>scala-cli</code> is a new tool in active development that aims to replace the current <code>scala</code> tool. </li>
<li><code>scala-cli</code> enables running scripts, loading REPL, compiling, testing, packaging (amongst other features) for “simple” (flat) projects.</li>
<li><code>scala-cli</code> enables a very Python-ish workflow and integrates with your text editor well. A REPL driven approach can be used using <code>scala-cli repl File.scala</code>.</li>
<li><code>scala-cli package</code> enables <a target="_blank" rel="noopener" href="https://scala-cli.virtuslab.org/docs/cookbooks/scala-package">creating an executable</a> from your main class. This is very useful. No need to deal with Python’s conda, pipenv, poetry, etc… for setting up an env. Rsync&#x2F;scp your packaged tool to another server and your good to go (provided the java versions are compatible).</li>
<li>Building a commandline tool using ZIO was a useful exercise to kick the tires on ZIO and understand the ZIO 1.x effect system and learn how to compose computation in ZIO.</li>
<li><code>decline</code> is a CLI parser library using <code>cats</code>. It has a very elegant mechanism of composing options&#x2F;commands. </li>
<li>The default <code>decline</code> interface had some unexpected behaviors with how <code>--help</code> was handled and how errors were handled&#x2F;mapped to exit codes.</li>
</ul>
<h2 id="Specifics"><a href="#Specifics" class="headerlink" title="Specifics"></a>Specifics</h2><p>Using <code>scala-cli setup-ide .</code> will generate the necessary files for the LSP server for your text editor.</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://scala-cli.virtuslab.org/docs/commands/setup-ide">https://scala-cli.virtuslab.org/docs/commands/setup-ide</a></li>
</ul>
<p>Using <code>directives</code> <code>//&gt;</code> in the top of your scala file, you can define the scala version, library versions, etc…</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://scala-cli.virtuslab.org/docs/reference/directives">https://scala-cli.virtuslab.org/docs/reference/directives</a></li>
</ul>
<p>For example, <code>Declined.scala</code></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">//&gt; using platform &quot;jvm&quot;</span><br><span class="line">//&gt; using scala &quot;2.13.8&quot;</span><br><span class="line">//&gt; using lib &quot;dev.zio::zio:1.0.14&quot;</span><br><span class="line">//&gt; using lib &quot;com.monovore::decline:2.2.0&quot;</span><br><span class="line">//&gt; using mainClass &quot;DeclinedApp&quot;</span><br></pre></td></tr></table></figure>

<p>Using <code>zio.App</code> we can define our <code>main</code> by overriding <code>run</code>.</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">DeclinedApp</span> <span class="keyword">extends</span> <span class="title">zio</span>.<span class="title">App</span> </span>&#123;</span><br><span class="line">   <span class="keyword">override</span> <span class="function"><span class="keyword">def</span> <span class="title">run</span></span>(args: <span class="type">List</span>[<span class="type">String</span>]): <span class="type">ZIO</span>[<span class="type">ZEnv</span>, <span class="type">Nothing</span>, <span class="type">ExitCode</span>] = ???</span><br><span class="line">&#125; </span><br></pre></td></tr></table></figure>

<p>Using <code>decline</code>, CLI options and arguments are defined using <code>Opts</code>.</p>
<p>For example:</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> com.monovore.decline._</span><br><span class="line"><span class="keyword">import</span> cats.implicits._</span><br><span class="line"></span><br><span class="line"><span class="keyword">val</span> nameOpt = <span class="type">Opts</span>.option[<span class="type">String</span>](<span class="string">&quot;user&quot;</span>, help = <span class="string">&quot;User name&quot;</span>, <span class="string">&quot;u&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">val</span> alphaOpt = <span class="type">Opts</span></span><br><span class="line">    .option[<span class="type">Double</span>](<span class="string">&quot;alpha&quot;</span>, help = <span class="string">&quot;Alpha Filtering&quot;</span>, <span class="string">&quot;a&quot;</span>)</span><br><span class="line">    .withDefault(<span class="number">1.23</span>)</span><br></pre></td></tr></table></figure>

<p>These <code>Opts</code> compose in interesting ways, specifically with <code>ZIO</code> effects.</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">val</span> versionOpt: <span class="type">Opts</span>[<span class="type">RIO</span>[<span class="type">Console</span>, <span class="type">Unit</span>]] = <span class="type">Opts</span></span><br><span class="line">    .flag(</span><br><span class="line">      <span class="string">&quot;version&quot;</span>,</span><br><span class="line">      <span class="string">&quot;Show version and Exit&quot;</span>,</span><br><span class="line">      <span class="string">&quot;v&quot;</span>,</span><br><span class="line">      visibility = <span class="type">Visibility</span>.<span class="type">Partial</span></span><br><span class="line">    )</span><br><span class="line">    .orFalse</span><br><span class="line">    .map(_ =&gt; putStrLn(<span class="type">VERSION</span>))</span><br></pre></td></tr></table></figure>

<p>You can compose options together using <code>mapN</code> to define an “action” or “command” that would need multiple commandline options&#x2F;args.</p>
<p>For example to define a <code>mainOpt</code> that uses <code>name, alpha, force</code>:</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">val</span> nameOpt = <span class="type">Opts</span>.option[<span class="type">String</span>](<span class="string">&quot;user&quot;</span>, help = <span class="string">&quot;User name&quot;</span>, <span class="string">&quot;u&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">val</span> alphaOpt = <span class="type">Opts</span></span><br><span class="line">    .option[<span class="type">Double</span>](<span class="string">&quot;alpha&quot;</span>, help = <span class="string">&quot;Alpha Filtering&quot;</span>, <span class="string">&quot;a&quot;</span>)</span><br><span class="line">    .withDefault(<span class="number">1.23</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// Add for testing failure modes</span></span><br><span class="line"><span class="keyword">val</span> forceOpt = <span class="type">Opts</span>.flag(<span class="string">&quot;fail&quot;</span>, help = <span class="string">&quot;Manually trigger a failure&quot;</span>).orFalse</span><br><span class="line"></span><br><span class="line"><span class="comment">// Now define our core</span></span><br><span class="line"><span class="keyword">val</span> mainOpt: <span class="type">Opts</span>[<span class="type">RIO</span>[<span class="type">Console</span>, <span class="type">Unit</span>]] =</span><br><span class="line">    (nameOpt, alphaOpt, forceOpt).mapN[<span class="type">RIO</span>[<span class="type">Console</span>, <span class="type">Unit</span>]] &#123;</span><br><span class="line">      (name, alpha, force) =&gt;</span><br><span class="line">        <span class="keyword">if</span> (force)</span><br><span class="line">          <span class="type">ZIO</span>.fail(</span><br><span class="line">            <span class="keyword">new</span> <span class="type">Exception</span>(<span class="string">s&quot;Manually FAIL triggered by <span class="subst">$name</span>! alpha=<span class="subst">$alpha</span>&quot;</span>)</span><br><span class="line">          )</span><br><span class="line">        <span class="keyword">else</span> putStrLn(<span class="string">s&quot;Hello <span class="subst">$name</span>. Running with alpha=<span class="subst">$alpha</span>&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>In addition to composing using <code>mapN</code>, there’s <code>orElse</code> which enables composing “actions”. For example, enabling <code>--version</code> to run (if provided) <em>or</em> run the “main” application.</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">val</span> runOpt = versionOpt orElse mainOpt</span><br></pre></td></tr></table></figure>
<p>These composed <code>Opts</code> can be used in a <code>Command</code> that will handled <code>--help</code> and be central point where <code>Command.parse</code> can be called. </p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">val</span> command: <span class="type">Command</span>[<span class="type">RIO</span>[<span class="type">Console</span>, <span class="type">Unit</span>]] = <span class="type">Command</span>[<span class="type">RIO</span>[<span class="type">Console</span>, <span class="type">Unit</span>]](</span><br><span class="line">    name = <span class="string">&quot;declined&quot;</span>,</span><br><span class="line">    header = <span class="string">&quot;Testing decline+zio&quot;</span></span><br><span class="line">  )(versionOpt orElse mainOpt)</span><br></pre></td></tr></table></figure>

<p>Bridging the ouptut of <code>Command.parse</code> with ZIO requires a little glue and some special attention to deal with the error cases. <code>Command.parse</code> will return an <code>Either[Help, T]</code>. The left of <code>Either</code> being used as “help+errors” container is a bit of friction point because <code>--help</code> triggers the left of the <code>Either</code>. <code>Help.errors</code> will return a non-empty list of errors (if there are parse errors). </p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">effect</span></span>(arg: <span class="type">List</span>[<span class="type">String</span>]): <span class="type">ZIO</span>[<span class="type">Console</span>, <span class="type">Throwable</span>, <span class="type">Unit</span>] = &#123;</span><br><span class="line">    command.parse(arg) <span class="keyword">match</span> &#123;</span><br><span class="line">      <span class="keyword">case</span> <span class="type">Left</span>(help) =&gt; <span class="comment">// a bit odd that --help returns here</span></span><br><span class="line">        <span class="keyword">if</span> (help.errors.isEmpty) putStrLn(help.show)</span><br><span class="line">        <span class="keyword">else</span> <span class="type">IO</span>.fail(<span class="keyword">new</span> <span class="type">Exception</span>(<span class="string">s&quot;<span class="subst">$&#123;help.errors&#125;</span>&quot;</span>))</span><br><span class="line">      <span class="keyword">case</span> <span class="type">Right</span>(value) =&gt; value.map(_ =&gt; ())</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>And finally, wire a call to <code>run</code> and make sure errors are written to stderr and a non-zero exit code is returned during failure cases. </p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">override</span> <span class="function"><span class="keyword">def</span> <span class="title">run</span></span>(args: <span class="type">List</span>[<span class="type">String</span>]): <span class="type">ZIO</span>[<span class="type">ZEnv</span>, <span class="type">Nothing</span>, <span class="type">ExitCode</span>] =</span><br><span class="line">    effect(args).map(_ =&gt; <span class="type">ExitCode</span>.success).catchAll &#123; ex =&gt;</span><br><span class="line">      <span class="keyword">for</span> &#123;</span><br><span class="line">        _ &lt;- putStrLnErr(<span class="string">s&quot;Error <span class="subst">$&#123;ex&#125;</span>&quot;</span>).orDie</span><br><span class="line">      &#125; <span class="keyword">yield</span> <span class="type">ExitCode</span>.failure</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Running can be done using <code>scala-cli run Declined.scala</code></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$&gt; scala-cli run Declined.scala  -- --version</span><br><span class="line">0.1.0</span><br></pre></td></tr></table></figure>

<p>Or by packaging the app and running the generated exe.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">scala-cli package --jvm 14 Declined.scala</span><br><span class="line">Wrote /Users/mkocher/path/to/DeclinedApp, run it with</span><br><span class="line">  ./DeclinedApp</span><br></pre></td></tr></table></figure>

<p>Running</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">$&gt; ./DeclinedApp --<span class="built_in">help</span></span><br><span class="line">Usage: declined [--user &lt;string&gt; [--alpha &lt;floating-point&gt;] [--fail]]</span><br><span class="line"></span><br><span class="line">Testing decline+zio</span><br><span class="line"></span><br><span class="line">Options and flags:</span><br><span class="line">    --<span class="built_in">help</span></span><br><span class="line">        Display this <span class="built_in">help</span> text.</span><br><span class="line">    --version, -v</span><br><span class="line">        Show version and Exit</span><br><span class="line">    --user &lt;string&gt;, -u &lt;string&gt;</span><br><span class="line">        User name</span><br><span class="line">    --alpha &lt;floating-point&gt;, -a &lt;floating-point&gt;</span><br><span class="line">        Alpha Filtering</span><br><span class="line">    --fail</span><br><span class="line">        Manually trigger a failure</span><br></pre></td></tr></table></figure>

<p>And a few smoke tests.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">$&gt; ./DeclinedApp --user Dave --alpha 3.14</span><br><span class="line">Hello Dave. Running with alpha=3.14</span><br><span class="line">$&gt; <span class="built_in">echo</span> $?</span><br><span class="line">0</span><br><span class="line">$ ./DeclinedApp --user Dave --alpha dragon</span><br><span class="line">Error java.lang.Exception: Invalid floating-point: dragon</span><br><span class="line">$&gt; ./DeclinedApp --user Dave --alpha 3.14 --dragon</span><br><span class="line">Error java.lang.Exception: Unexpected option: --dragon</span><br><span class="line">$&gt;<span class="built_in">echo</span> $?</span><br><span class="line">1</span><br></pre></td></tr></table></figure>

<h2 id="Summary-and-Final-Comments"><a href="#Summary-and-Final-Comments" class="headerlink" title="Summary and Final Comments"></a>Summary and Final Comments</h2><ul>
<li><code>scala-cli</code> is a <strong>very</strong> promising addition for the Scala community.</li>
<li><code>scala-cli</code> changed my workflow. This new workflow was closer to how I would work in Python.</li>
<li>I really like ZIO’s core composablity ethos, however, it does have a learning curve.</li>
<li><code>Decline</code>‘s <code>Command[T]</code> design allows for intergrate with ZIO pretty seemlessly. </li>
<li>Misc “scrappy” CLI tools that I would typically write in Python, I could easily write in Scala.</li>
</ul>

        
      </div>
    </div>

  






          <div class="main-footer">
  
    © 2022  - Powered by <a href="http://hexo.io" target="_blank">Hexo</a> - Theme <a href="https://github.com/denjones/hexo-theme-chan" target="_blank">Chan</a>
  
</div>

      
        </div>
      
    </div>
  </div>
  
<script src="//apps.bdimg.com/libs/jquery/2.1.4/jquery.min.js"></script>


  
<link rel="stylesheet" href="/PhotoSwipe/photoswipe.css">

  
<link rel="stylesheet" href="/PhotoSwipe/default-skin/default-skin.css">


  <!-- Root element of PhotoSwipe. Must have class pswp. -->
  <div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

    <!-- Background of PhotoSwipe.
             It's a separate element as animating opacity is faster than rgba(). -->
    <div class="pswp__bg"></div>

    <!-- Slides wrapper with overflow:hidden. -->
    <div class="pswp__scroll-wrap">

      <!-- Container that holds slides.
                PhotoSwipe keeps only 3 of them in the DOM to save memory.
                Don't modify these 3 pswp__item elements, data is added later on. -->
      <div class="pswp__container">
        <div class="pswp__item"></div>
        <div class="pswp__item"></div>
        <div class="pswp__item"></div>
      </div>

      <!-- Default (PhotoSwipeUI_Default) interface on top of sliding area. Can be changed. -->
      <div class="pswp__ui pswp__ui--hidden">

        <div class="pswp__top-bar">

          <!--  Controls are self-explanatory. Order can be changed. -->

          <div class="pswp__counter"></div>

          <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

          <button class="pswp__button pswp__button--share" title="Share"></button>

          <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

          <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

          <!-- Preloader demo http://codepen.io/dimsemenov/pen/yyBWoR -->
          <!-- element will get class pswp__preloader--active when preloader is running -->
          <div class="pswp__preloader">
            <div class="pswp__preloader__icn">
              <div class="pswp__preloader__cut">
                <div class="pswp__preloader__donut"></div>
              </div>
            </div>
          </div>
        </div>

        <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
          <div class="pswp__share-tooltip"></div>
        </div>

        <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)"></button>

        <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button>

        <div class="pswp__caption">
          <div class="pswp__caption__center"></div>
        </div>
      </div>
    </div>
  </div>

  
<script src="/PhotoSwipe/photoswipe.js"></script>

  
<script src="/PhotoSwipe/photoswipe-ui-default.js"></script>




<script src="/perfect-scrollbar/js/min/perfect-scrollbar.min.js"></script>


<script src="/scripts/main.js"></script>


</body>
</html>
